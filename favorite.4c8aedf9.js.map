{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,aAGMC,EAAe,eACfC,EAAW,WACXC,EAAeC,SAASC,cAAc,wBA6B5C,SAASC,EAAmBC,GAC1B,IACMC,EADgBD,EAAKE,QAAO,SAACC,G,OAAUA,C,IAE1CC,KAAI,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIC,EAAKF,EAALE,MAAOC,EAASH,EAATG,UAAWC,EAAGJ,EAAHI,IAAKC,EAAIL,EAAJK,KAAMC,EAAGN,EAAHM,IAAKC,EAAQP,EAARO,SAAoBP,EAAVQ,WACtD,MAAO,mHAQgCC,OAL7BL,EAAI,4IAMMK,OADmBF,EAAS,kCAS5CE,OARgBR,EAAG,yTAWjBQ,OAHFP,EAAM,wEAK4BO,OAFhCN,EAAU,8DAMAM,QAJsB,EAAAtB,EAAAuB,SAClC,IAAIC,KAAKN,GACT,cACA,iCACuDI,OAA3CH,EAAI,yCAA2CG,OAAJH,EAAI,wE,IAGhEM,KAAK,IACRrB,EAAasB,UAAYjB,EACzBkB,QAAQC,IAAIpB,E,EA7Dd,WACE,KAAK,EAAAqB,EAAAC,MAAK5B,GACR,OAEA,IAAM6B,GAAe,EAAAF,EAAAC,MAAK5B,GACtB6B,GACFxB,EAAmBwB,E,CAPzBC,GAWA5B,EAAa6B,iBAAiB,SAE9B,SAAgCC,GAC9B,GAA8B,WAA1BA,EAAMC,OAAOC,SACf,OAGF,IAAMC,EAAgBH,EAAMC,OAAOG,QAAQxB,GAErCyB,GADsB,EAAAV,EAAAC,MAAK5B,GACWQ,QAC1C,SAAAC,G,OAASA,EAAMG,KAAOuB,C,IAExB9B,EAAmBgC,IACnB,EAAAV,EAAAW,MAAKtC,EAAcqC,E,IAyCrBnC,EAAa6B,iBAAiB,SAC9B,SAAyBC,GACvB,GAA8B,MAA1BA,EAAMC,OAAOC,SACf,OAEF,IAAMK,EAAcP,EAAMC,OAAOG,QAAQnB,IAEzC,IAAI,EAAAU,EAAAC,MAAK5B,KAAiB,EAAA2B,EAAAC,MAAK3B,GAAW,CAC1C,IAAMuC,GAAa,EAAAb,EAAAC,MAAK5B,GAClByC,GAAiB,EAAAd,EAAAC,MAAK3B,GAEtByC,EAAWF,EAAWG,MAAK,SAAAC,G,OAAUA,EAAO3B,MAAQsB,C,IAC1DE,EAAeI,KAAKH,IACpB,EAAAf,EAAAW,MAAKrC,EAAUwC,E","sources":["src/js/favorite.js"],"sourcesContent":["import { lightFormat } from 'date-fns';\nimport { save, load } from './storage';\n\nconst FAVORITE_KEY = 'favoriteNews';\nconst READ_KEY = 'readNews';\nconst cardFavorite = document.querySelector('.card-favorite__list');\n\ngetFavoriteNews();\nfunction getFavoriteNews() {\n  if (!load(FAVORITE_KEY)) {\n    return;\n  }\n    const favoriteNews = load(FAVORITE_KEY);\n    if (favoriteNews) {\n      renderCardFavorite(favoriteNews);\n    }\n}\n\ncardFavorite.addEventListener('click', handleClickFavoriteBtn);\n\nfunction handleClickFavoriteBtn(event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  const favoritNewsId = event.target.dataset.id;\n  const parsedeFavoriteNews = load(FAVORITE_KEY);\n  const newsAfterRemove = parsedeFavoriteNews.filter(\n    value => value.id !== favoritNewsId\n  );\n  renderCardFavorite(newsAfterRemove);\n  save(FAVORITE_KEY, newsAfterRemove);\n}\n\nfunction renderCardFavorite(news) {\n  const normalizeNews = news.filter((value) => value);\n  const markup = normalizeNews\n    .map(({ id, title, paragraph, img, data, url, category, multimedia }) => {\n      return `<li class=\"card-favorite__item\">\n          <div class=\"card-favorite__ovarlay\">\n          <img\n          src=${img}\n          alt=\"news image\"\n          width=\"395px\"\n          height=\"395px\"\n        />\n        <p class=\"card-favorite__category\">${category}</p>\n        <button data-id=${id} class=\"card-favorite__button\" type=\"button\">\n        Remove from favorite\n        <svg class=\"card-favorite__icon\" width=\"16\" height=\"16\">\n          <use href=\"./svg/symbol-defs.svg#icon-heart-not-action\"></use>\n        </svg>\n      </button>\n    </div>\n    <h2 class=\"card-favorite__title\">\n        ${title}\n        </h2>\n        <p class=\"card-favorite__text\">\n          ${paragraph}\n        </p>\n        <time class=\"card-favorite__time\">${lightFormat(\n          new Date(data),\n          'dd/MM/yyyy'\n        )}</time>\n        <a data-url=${url} class=\"card-favorite__element\" href=${url} target=\"_blank\" rel=\"noreferrer noopener\">Read more</a>\n      </li>`;\n    })\n    .join('');\n  cardFavorite.innerHTML = markup;\n  console.log(news);\n}\n\ncardFavorite.addEventListener('click', handleClickRead);\nfunction handleClickRead(event) {\n  if (event.target.nodeName !== 'A') {\n    return;\n  }\n  const readCardUrl = event.target.dataset.url;\n\n  if (load(FAVORITE_KEY) && load(READ_KEY)) {\n  const parsedNews = load(FAVORITE_KEY);\n  const parsedReadNews = load(READ_KEY);\n\n  const readNews = parsedNews.find(option => option.url === readCardUrl);\n  parsedReadNews.push(readNews);\n  save(READ_KEY, parsedReadNews);}\n}\n"],"names":["$ddpnB","parcelRequire","$8bf2312eefa07846$var$FAVORITE_KEY","$8bf2312eefa07846$var$READ_KEY","$8bf2312eefa07846$var$cardFavorite","document","querySelector","$8bf2312eefa07846$var$renderCardFavorite","news","markup","filter","value","map","param","id","title","paragraph","img","data","url","category","multimedia","concat","default","Date","join","innerHTML","console","log","$jzQFI","load","favoriteNews","$8bf2312eefa07846$var$getFavoriteNews","addEventListener","event","target","nodeName","favoritNewsId","dataset","newsAfterRemove","save","readCardUrl","parsedNews","parsedReadNews","readNews","find","option","push"],"version":3,"file":"favorite.4c8aedf9.js.map"}