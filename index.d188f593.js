var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,a.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a);var o=a("1GkTE"),r=a("5uEKZ"),s=a("fDIS9");const c=document.querySelector(".card-news__list");window.addEventListener("load",(async e=>{try{await(0,o.fetchNews)();const e=(0,r.load)("newsObject");(0,s.renderCard)(e)}catch(e){console.log(e.message)}const t=(0,r.load)("newsObject");(0,s.renderCard)(t)})),(0,r.load)("favoriteNews")||(0,r.save)("favoriteNews",[]),(0,r.load)("readNews")||(0,r.save)("readNews",[]);const i=(0,r.load)("newsObject");(0,s.renderCard)(i),c.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;const t=e.target.dataset.id,n=(0,r.load)("newsObject"),a=(0,r.load)("favoriteNews"),o=n.find((e=>e.id===t));a.push(o),(0,r.save)("favoriteNews",a);const c=n.filter((e=>e.id!==t));(0,s.renderCard)(c),(0,r.save)("newsObject",c)})),c.addEventListener("click",(function(e){if("A"!==e.target.nodeName)return;const t=e.target.dataset.url,n=(0,r.load)("newsObject"),a=(0,r.load)("readNews"),o=n.find((e=>e.url===t));a.push(o),(0,r.save)("readNews",a)}));var l=a("kd58i");a("1GkTE");s=a("fDIS9");const d=new(0,l.FetchNews),u=document.getElementById("categories-container"),w=(document.getElementById("menu-container"),document.querySelector(".dropbtn"));function m(e){const t=document.createElement("a");return t.classList.add("categories-container_link","dropdown-link"),t.textContent=e,t.setAttribute("href","#"),t.setAttribute("name",e),t.addEventListener("click",(()=>{const e=t.getAttribute("name");d.category=e,d.fetchByCategory().then((e=>{(0,s.renderCard)(e)})).catch((e=>{console.error(e)}));Array.from(u.children).forEach((e=>{e===t?e.classList.add("activee"):e.classList.contains("activee")&&e.classList.remove("activee")}))})),t}fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=UPfW6vgRuPuGF8dWeumSDLnq86AeLhG1").then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{const t=e.results.slice(0,5).map((e=>e.section)),n=Array.from(u.children).map((e=>e.getAttribute("name"))),a=e.results.filter((e=>!n.includes(e.section))).map((e=>e.section));t.forEach((e=>{const t=m(e);u.appendChild(t)})),function(e,t){const n=document.getElementById("myDropdown");n.innerHTML="";const a=e.concat(t),o=Array.from(n.children).map((e=>e.getAttribute("name"))),r=a.filter((e=>!o.includes(e)));r.filter((t=>!e.slice(0,5).includes(t))).forEach((e=>{const t=m(e);n.appendChild(t)})),n.querySelectorAll("a").forEach((t=>{t.classList.add("categories-container_link_dropDown"),e.includes(t.getAttribute("name"))&&e.indexOf(t.getAttribute("name"))<5&&t.classList.add("activee")})),n.style.height="380px",n.style.overflowY="scroll"}(t,a)})).catch((e=>{console.error(e)})),w.addEventListener("click",(function(){document.getElementById("myDropdown").classList.toggle("show")})),window.onclick=function(e){if(!e.target.matches(".dropbtn")){var t,n=document.getElementsByClassName("dropdown-content");for(t=0;t<n.length;t++){var a=n[t];a.classList.contains("show")&&a.classList.remove("show")}}},console.log("test");var f=a("2shzp");let g=40.711217,h=-74.006889;function p(e){const t=e.coords;g=t.latitude,h=t.longitude,localStorage.setItem("latitude",g),localStorage.setItem("longitude",h)}async function v(){try{if(p)return await f.default.get("https://api.openweathermap.org/data/2.5/weather",{params:{lat:localStorage.getItem("latitude")||g,lon:localStorage.getItem("longitude")||h,appid:"8263fe3022d7c26abc78442437d890b7",units:"metric"}})}catch(e){console.error(e)}}navigator.geolocation.getCurrentPosition(p,(function(e){console.warn(`ERROR(${e.code}): ${e.message}`),localStorage.removeItem("latitude",g),localStorage.removeItem("longitude",h)}));const y=document.querySelector(".weather");!async function(){try{const e=await v(),t=await e.data,n=`\n    <div class="weather__block"><span class="weather__number">${Math.round(t.main.temp)}&#176;</span>\n      <div class = "weather__location"><h2 class="weather__title">${t.weather[0].main}</h2>\n      <p class="weather__city"><svg class="weather__svg" width="16" height="16">\n      <use href="/symbol-defs.33050382.svg#icon-carbon_location-filled"></use>\n    </svg>${t.name}</p></div></div>\n      <img class="weather__icon" src="https://openweathermap.org/img/wn/${t.weather[0].icon}.png" alt="${t.weather[0].description}">\n      <p class="weather__date">${new Date(1e3*t.dt).toDateString()}</p>`;y.insertAdjacentHTML("afterbegin",n)}catch(e){console.error(e)}}(),a("9PAmN");
//# sourceMappingURL=index.d188f593.js.map
