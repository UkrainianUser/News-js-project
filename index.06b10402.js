!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var o=a("cUSdw"),c=a("jzQFI"),i=a("5I0aQ"),s="newsObject",l="favoriteNews",u="readNews",d=document.querySelector(".card-news__list");(0,o.fetchNews)(),(0,c.load)(l)||(0,c.save)(l,[]),(0,c.load)(u)||(0,c.save)(u,[]);var f=(0,c.load)(s);(0,i.renderCard)(f),d.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;var t=e.target.dataset.id,n=(0,c.load)(s),r=(0,c.load)(l),a=n.find((function(e){return e.id===t}));r.push(a),(0,c.save)(l,r);var o=n.filter((function(e){return e.id!==t}));(0,i.renderCard)(o),(0,c.save)(s,o)})),d.addEventListener("click",(function(e){if("A"!==e.target.nodeName)return;var t=e.target.dataset.url,n=(0,c.load)(s),r=(0,c.load)(u),a=n.find((function(e){return e.url===t}));r.push(a),(0,c.save)(u,r)}));var p=a("5dKDZ");a("cUSdw");var h=new(0,p.FetchNews),m=document.getElementById("categories-container"),v=(document.getElementById("menu-container"),document.querySelector(".dropbtn"));function g(e){var t=document.createElement("a");t.classList.add("categories-container_link"),t.textContent=e,t.setAttribute("href","#"),t.setAttribute("name",e);var n="link-".concat(e.toLowerCase().replace(" ","-"));return t.setAttribute("id",n),t.addEventListener("click",(function(){var e=t.getAttribute("name");h.category=e,h.fetchByCategory().then((function(e){e.map((function(e){console.log(e)}))})).catch((function(e){console.error(e)}))})),t}fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=UPfW6vgRuPuGF8dWeumSDLnq86AeLhG1").then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){var t=e.results.slice(0,5).map((function(e){return e.section})),n=Array.from(m.children).map((function(e){return e.getAttribute("name")})),r=e.results.filter((function(e){return!n.includes(e.section)})).map((function(e){return e.section}));t.forEach((function(e){var t=g(e);m.appendChild(t)})),function(e,t){var n=document.getElementById("myDropdown");n.innerHTML="";var r=e.concat(t),a=Array.from(n.children).map((function(e){return e.getAttribute("name")})),o=r.filter((function(e){return!a.includes(e)})),c=o.filter((function(t){return!e.slice(0,5).includes(t)}));c.forEach((function(e){var t=g(e);n.appendChild(t)})),n.querySelectorAll("a").forEach((function(e){e.classList.add("categories-container_link_dropDown")})),c.forEach((function(e){o.includes(e)&&g(e)})),n.style.height="380px",n.style.overflowY="scroll"}(t,r)})).catch((function(e){console.error(e)})),v.addEventListener("click",(function(){document.getElementById("myDropdown").classList.toggle("show")})),window.onclick=function(e){if(!e.target.matches(".dropbtn")){var t,n=document.getElementsByClassName("dropdown-content");for(t=0;t<n.length;t++){var r=n[t];r.classList.contains("show")&&r.classList.remove("show")}}};var w=a("bpxeT"),y=a("2TvXO"),b=a("dIxxU"),_="https://api.openweathermap.org/data/2.5/weather",x="8263fe3022d7c26abc78442437d890b7",E=40.711217,k=-74.006889;function L(e){var t=e.coords;E=t.latitude,k=t.longitude,localStorage.setItem("latitude",E),localStorage.setItem("longitude",k)}function S(){return I.apply(this,arguments)}function I(){return(I=e(w)(e(y).mark((function t(){return e(y).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!L){e.next=5;break}return e.next=4,b.default.get(_,{params:{lat:localStorage.getItem("latitude")||E,lon:localStorage.getItem("longitude")||k,appid:x,units:"metric"}});case 4:return e.abrupt("return",e.sent);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}navigator.geolocation.getCurrentPosition(L,(function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message)),localStorage.removeItem("latitude",E),localStorage.removeItem("longitude",k)}));w=a("bpxeT"),y=a("2TvXO");var A=document.querySelector(".weather");function N(){return(N=e(w)(e(y).mark((function t(){var n,r,a;return e(y).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:return n=e.sent,e.next=6,n.data;case 6:return r=e.sent,a='\n    <div class="weather__block"><span class="weather__number">'.concat(Math.round(r.main.temp),'&#176;</span>\n      <div class = "weather__location"><h2 class="weather__title">').concat(r.weather[0].main,'</h2>\n      <p class="weather__city"><svg class="weather__svg" width="16" height="16">\n      <use href="/symbol-defs.33050382.svg#icon-carbon_location-filled"></use>\n    </svg>').concat(r.name,'</p></div></div>\n      <img class="weather__icon" src="https://openweathermap.org/img/wn/').concat(r.weather[0].icon,'.png" alt="').concat(r.weather[0].description,'">\n      <p class="weather__date">').concat(new Date(1e3*r.dt).toDateString(),"</p>"),e.abrupt("return",A.insertAdjacentHTML("afterbegin",a));case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}!function(){N.apply(this,arguments)}()}();
//# sourceMappingURL=index.06b10402.js.map
