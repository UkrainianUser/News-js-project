!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=o),o("jiOZA");var a=o("5dKDZ");o("cUSdw");var c=o("5I0aQ"),i=new(0,a.FetchNews),s=document.getElementById("categories-container"),l=(document.getElementById("menu-container"),document.querySelector(".dropbtn"));function u(e){var t=document.createElement("a");return t.classList.add("categories-container_link","dropdown-link"),t.textContent=e,t.setAttribute("href","#"),t.setAttribute("name",e),t.addEventListener("click",(function(){var e=t.getAttribute("name");i.category=e,i.fetchByCategory().then((function(e){(0,c.renderCard)(e)})).catch((function(e){console.error(e)})),Array.from(s.children).forEach((function(e){e===t?e.classList.add("activee"):e.classList.contains("activee")&&e.classList.remove("activee")}))})),t}fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=UPfW6vgRuPuGF8dWeumSDLnq86AeLhG1").then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){var t=e.results.slice(0,5).map((function(e){return e.section})),n=Array.from(s.children).map((function(e){return e.getAttribute("name")})),r=e.results.filter((function(e){return!n.includes(e.section)})).map((function(e){return e.section}));t.forEach((function(e){var t=u(e);s.appendChild(t)})),function(e,t){var n=document.getElementById("myDropdown");n.innerHTML="";var r=e.concat(t),o=Array.from(n.children).map((function(e){return e.getAttribute("name")}));r.filter((function(e){return!o.includes(e)})).filter((function(t){return!e.slice(0,5).includes(t)})).forEach((function(e){var t=u(e);n.appendChild(t)})),n.querySelectorAll("a").forEach((function(t){t.classList.add("categories-container_link_dropDown"),e.includes(t.getAttribute("name"))&&e.indexOf(t.getAttribute("name"))<5&&t.classList.add("activee")})),n.style.height="380px",n.style.overflowY="scroll"}(t,r)})).catch((function(e){console.error(e)})),l.addEventListener("click",(function(){document.getElementById("myDropdown").classList.toggle("show")})),window.onclick=function(e){if(!e.target.matches(".dropbtn")){var t,n=document.getElementsByClassName("dropdown-content");for(t=0;t<n.length;t++){var r=n[t];r.classList.contains("show")&&r.classList.remove("show")}}},console.log("test");var d=o("bpxeT"),f=o("2TvXO"),p=o("dIxxU"),h="https://api.openweathermap.org/data/2.5/weather",m="8263fe3022d7c26abc78442437d890b7",g=40.711217,v=-74.006889;function w(e){var t=e.coords;g=t.latitude,v=t.longitude,localStorage.setItem("latitude",g),localStorage.setItem("longitude",v)}function y(){return b.apply(this,arguments)}function b(){return(b=e(d)(e(f).mark((function t(){return e(f).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!w){e.next=5;break}return e.next=4,p.default.get(h,{params:{lat:localStorage.getItem("latitude")||g,lon:localStorage.getItem("longitude")||v,appid:m,units:"metric"}});case 4:return e.abrupt("return",e.sent);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}navigator.geolocation.getCurrentPosition(w,(function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message)),localStorage.removeItem("latitude",g),localStorage.removeItem("longitude",v)}));d=o("bpxeT"),f=o("2TvXO");var _=document.querySelector(".weather");function x(){return(x=e(d)(e(f).mark((function t(){var n,r,o;return e(f).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y();case 3:return n=e.sent,e.next=6,n.data;case 6:return r=e.sent,o='\n    <div class="weather__block"><span class="weather__number">'.concat(Math.round(r.main.temp),'&#176;</span>\n      <div class = "weather__location"><h2 class="weather__title">').concat(r.weather[0].main,'</h2>\n      <p class="weather__city"><svg class="weather__svg" width="16" height="16">\n      <use href="/symbol-defs.33050382.svg#icon-carbon_location-filled"></use>\n    </svg>').concat(r.name,'</p></div></div>\n      <img class="weather__icon" src="https://openweathermap.org/img/wn/').concat(r.weather[0].icon,'.png" alt="').concat(r.weather[0].description,'">\n      <p class="weather__date">').concat(new Date(1e3*r.dt).toDateString(),"</p>"),e.abrupt("return",_.insertAdjacentHTML("afterbegin",o));case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}!function(){x.apply(this,arguments)}(),o("jcFG7"),o("18BRe")}();
//# sourceMappingURL=index.78ce212f.js.map
