var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o);var a=o("1GkTE"),r=o("5uEKZ"),s=o("fDIS9");const c=document.querySelector(".card-news__list");window.addEventListener("load",(async e=>{if(!(0,r.load)("newsObject"))try{await(0,a.fetchNews)();const e=(0,r.load)("newsObject");(0,s.renderCard)(e)}catch(e){console.log(e.message)}const t=(0,r.load)("newsObject");(0,s.renderCard)(t)})),(0,r.load)("favoriteNews")||(0,r.save)("favoriteNews",[]),(0,r.load)("readNews")||(0,r.save)("readNews",[]);const i=(0,r.load)("newsObject");(0,s.renderCard)(i),c.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;const t=e.target.dataset.id,n=(0,r.load)("newsObject"),o=(0,r.load)("favoriteNews"),a=n.find((e=>e.id===t));o.push(a),(0,r.save)("favoriteNews",o);const c=n.filter((e=>e.id!==t));(0,s.renderCard)(c),(0,r.save)("newsObject",c)})),c.addEventListener("click",(function(e){if("A"!==e.target.nodeName)return;const t=e.target.dataset.url,n=(0,r.load)("newsObject"),o=(0,r.load)("readNews"),a=n.find((e=>e.url===t));o.push(a),(0,r.save)("readNews",o)}));var l=o("kd58i");o("1GkTE");const d=new(0,l.FetchNews),u=document.getElementById("categories-container"),w=(document.getElementById("menu-container"),document.querySelector(".dropbtn"));function f(e){const t=document.createElement("a");t.classList.add("categories-container_link"),t.textContent=e,t.setAttribute("href","#"),t.setAttribute("name",e);const n=`link-${e.toLowerCase().replace(" ","-")}`;return t.setAttribute("id",n),t.addEventListener("click",(()=>{const e=t.getAttribute("name");d.category=e,d.fetchByCategory().then((e=>{e.map((e=>{console.log(e)}))})).catch((e=>{console.error(e)}))})),t}fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=UPfW6vgRuPuGF8dWeumSDLnq86AeLhG1").then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{const t=e.results.slice(0,5).map((e=>e.section)),n=Array.from(u.children).map((e=>e.getAttribute("name"))),o=e.results.filter((e=>!n.includes(e.section))).map((e=>e.section));t.forEach((e=>{const t=f(e);u.appendChild(t)})),function(e,t){const n=document.getElementById("myDropdown");n.innerHTML="";const o=e.concat(t),a=Array.from(n.children).map((e=>e.getAttribute("name"))),r=o.filter((e=>!a.includes(e))),s=r.filter((t=>!e.slice(0,5).includes(t)));s.forEach((e=>{const t=f(e);n.appendChild(t)})),n.querySelectorAll("a").forEach((e=>{e.classList.add("categories-container_link_dropDown")})),s.forEach((e=>{r.includes(e)&&f(e)})),n.style.height="380px",n.style.overflowY="scroll"}(t,o)})).catch((e=>{console.error(e)})),w.addEventListener("click",(function(){document.getElementById("myDropdown").classList.toggle("show")})),window.onclick=function(e){if(!e.target.matches(".dropbtn")){var t,n=document.getElementsByClassName("dropdown-content");for(t=0;t<n.length;t++){var o=n[t];o.classList.contains("show")&&o.classList.remove("show")}}};var h=o("2shzp");let g=40.711217,m=-74.006889;function p(e){const t=e.coords;g=t.latitude,m=t.longitude,localStorage.setItem("latitude",g),localStorage.setItem("longitude",m)}async function v(){try{if(p)return await h.default.get("https://api.openweathermap.org/data/2.5/weather",{params:{lat:localStorage.getItem("latitude")||g,lon:localStorage.getItem("longitude")||m,appid:"8263fe3022d7c26abc78442437d890b7",units:"metric"}})}catch(e){console.error(e)}}navigator.geolocation.getCurrentPosition(p,(function(e){console.warn(`ERROR(${e.code}): ${e.message}`),localStorage.removeItem("latitude",g),localStorage.removeItem("longitude",m)}));const y=document.querySelector(".weather");!async function(){try{const e=await v(),t=await e.data,n=`\n    <div class="weather__block"><span class="weather__number">${Math.round(t.main.temp)}&#176;</span>\n      <div class = "weather__location"><h2 class="weather__title">${t.weather[0].main}</h2>\n      <p class="weather__city"><svg class="weather__svg" width="16" height="16">\n      <use href="/symbol-defs.33050382.svg#icon-carbon_location-filled"></use>\n    </svg>${t.name}</p></div></div>\n      <img class="weather__icon" src="https://openweathermap.org/img/wn/${t.weather[0].icon}.png" alt="${t.weather[0].description}">\n      <p class="weather__date">${new Date(1e3*t.dt).toDateString()}</p>`;y.insertAdjacentHTML("afterbegin",n)}catch(e){console.error(e)}}();
//# sourceMappingURL=index.5038ec48.js.map
