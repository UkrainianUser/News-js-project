var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("dohZK");var a=o("kd58i");o("1GkTE");var r=o("fDIS9");const c=new(0,a.FetchNews),s=document.getElementById("categories-container"),i=(document.getElementById("menu-container"),document.querySelector(".dropbtn"));function l(e){const t=document.createElement("a");return t.classList.add("categories-container_link","dropdown-link"),t.textContent=e,t.setAttribute("href","#"),t.setAttribute("name",e),t.addEventListener("click",(()=>{const e=t.getAttribute("name");c.category=e,c.fetchByCategory().then((e=>{(0,r.renderCard)(e)})).catch((e=>{console.error(e)}));Array.from(s.children).forEach((e=>{e===t?e.classList.add("activee"):e.classList.contains("activee")&&e.classList.remove("activee")}))})),t}fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=UPfW6vgRuPuGF8dWeumSDLnq86AeLhG1").then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{const t=e.results.slice(0,5).map((e=>e.section)),n=Array.from(s.children).map((e=>e.getAttribute("name"))),o=e.results.filter((e=>!n.includes(e.section))).map((e=>e.section));t.forEach((e=>{const t=l(e);s.appendChild(t)})),function(e,t){const n=document.getElementById("myDropdown");n.innerHTML="";const o=e.concat(t),a=Array.from(n.children).map((e=>e.getAttribute("name"))),r=o.filter((e=>!a.includes(e)));r.filter((t=>!e.slice(0,5).includes(t))).forEach((e=>{const t=l(e);n.appendChild(t)})),n.querySelectorAll("a").forEach((t=>{t.classList.add("categories-container_link_dropDown"),e.includes(t.getAttribute("name"))&&e.indexOf(t.getAttribute("name"))<5&&t.classList.add("activee")})),n.style.height="380px",n.style.overflowY="scroll"}(t,o)})).catch((e=>{console.error(e)})),i.addEventListener("click",(function(){document.getElementById("myDropdown").classList.toggle("show")})),window.onclick=function(e){if(!e.target.matches(".dropbtn")){var t,n=document.getElementsByClassName("dropdown-content");for(t=0;t<n.length;t++){var o=n[t];o.classList.contains("show")&&o.classList.remove("show")}}},console.log("test");var d=o("2shzp");let u=40.711217,h=-74.006889;function m(e){const t=e.coords;u=t.latitude,h=t.longitude,localStorage.setItem("latitude",u),localStorage.setItem("longitude",h)}async function g(){try{if(m)return await d.default.get("https://api.openweathermap.org/data/2.5/weather",{params:{lat:localStorage.getItem("latitude")||u,lon:localStorage.getItem("longitude")||h,appid:"8263fe3022d7c26abc78442437d890b7",units:"metric"}})}catch(e){console.error(e)}}navigator.geolocation.getCurrentPosition(m,(function(e){console.warn(`ERROR(${e.code}): ${e.message}`),localStorage.removeItem("latitude",u),localStorage.removeItem("longitude",h)}));const p=document.querySelector(".weather");!async function(){try{const e=await g(),t=await e.data,n=`\n    <div class="weather__block"><span class="weather__number">${Math.round(t.main.temp)}&#176;</span>\n      <div class = "weather__location"><h2 class="weather__title">${t.weather[0].main}</h2>\n      <p class="weather__city"><svg class="weather__svg" width="16" height="16">\n      <use href="/symbol-defs.33050382.svg#icon-carbon_location-filled"></use>\n    </svg>${t.name}</p></div></div>\n      <img class="weather__icon" src="https://openweathermap.org/img/wn/${t.weather[0].icon}.png" alt="${t.weather[0].description}">\n      <p class="weather__date">${new Date(1e3*t.dt).toDateString()}</p>`;p.insertAdjacentHTML("afterbegin",n)}catch(e){console.error(e)}}(),o("2nhTy"),o("9PAmN");
//# sourceMappingURL=index.c0fd903a.js.map
